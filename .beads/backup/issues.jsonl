{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:19:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c2a30bc4fd0ac92a3ef4ec83e221d333b21f68f79b9052fa758805e7f3c872a1","created_at":"2026-02-15T16:50:54Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Detect whether the backing store is a Dolt database or SQLite and use the appropriate driver.\n\n## Context\n\nbd-eye currently assumes a SQLite database via better-sqlite3 (synchronous, readonly WAL mode). Beads itself supports Dolt as a backend. bd-eye should be able to read from either.\n\n## Detection strategy\n\n- If the resolved path is a directory containing a `.dolt` subdirectory, treat as Dolt\n- If the resolved path is a `.db` file, treat as SQLite\n- The `BEADS_DB` env var and auto-discovery logic in `resolveDbPath()` already resolve to a path — detection layers on top of that\n\n## Implementation plan\n\n### 1. Make the Db interface async\n\nThe `Db` typedef in `src/server/db.js` (line 41-53) currently returns synchronous values. All methods need to return `Promise\u003cT\u003e` to support both sync (better-sqlite3) and async (mysql2) drivers.\n\n**Files affected:**\n- `src/server/db.js` — change typedef, wrap better-sqlite3 calls in `Promise.resolve()` or use `async` functions\n- `src/server/routes/issues.js` — add `await` to every `db.*()` call, make route handlers `async`\n- `src/server/index.js` — `await openDb()` at startup\n\n### 2. Extract SQLite implementation\n\nMove the current better-sqlite3 implementation into `src/server/db-sqlite.js`, exporting a function with the same `openDb` signature that returns a `Db`.\n\n### 3. Create Dolt implementation\n\nNew file `src/server/db-dolt.js`:\n- Connect to Dolt SQL server via `mysql2/promise`\n- Implement the same `Db` interface\n- Connection config from env vars: `DOLT_HOST`, `DOLT_PORT`, `DOLT_USER`, `DOLT_PASSWORD`, `DOLT_DATABASE`\n- The SQL queries are standard and should transfer directly\n- Views `ready_issues` and `blocked_issues` must exist in the Dolt schema (beads creates these)\n\n### 4. Add detection and factory in db.js\n\n`src/server/db.js` becomes a thin dispatcher:\n- `resolveDbPath()` — unchanged\n- `detectDbType(path)` — returns `'sqlite' | 'dolt'` based on path characteristics\n- `openDb(path)` — calls the appropriate implementation\n\n### 5. Adapt the file watcher\n\n`src/server/watcher.js` currently watches SQLite WAL/SHM files via chokidar. For Dolt:\n- Option A: Poll `DOLT_LOG()` or `HASHOF('HEAD')` on an interval to detect commits\n- Option B: Watch the `.dolt/noms` directory for file changes\n- Extract a `createWatcher(dbType, path, onChange)` factory\n\n### 6. Update configuration\n\n- Add new env vars to `.env.example`: `DOLT_HOST`, `DOLT_PORT`, `DOLT_USER`, `DOLT_PASSWORD`, `DOLT_DATABASE`\n- Update README with Dolt setup instructions\n- Add `mysql2` as an optional/peer dependency\n\n## Key risks\n\n- The sync-to-async migration touches every route handler — keep the diff minimal by making SQLite impl async too\n- Dolt SQL server must be running separately — document this clearly\n- Views (`ready_issues`, `blocked_issues`) must exist in Dolt — verify beads creates them for Dolt backends","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-06a","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":null,"status":"closed","target":"","timeout_ns":0,"title":"Support Dolt databases alongside SQLite","updated_at":"2026-02-19T12:09:31Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-19T22:06:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"2ab87d536d7879b033d2526136bbf0d435181b0a77e3807e423f5d1e9b755ae0","created_at":"2026-02-19T22:04:57Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Filters applied at the top of the board (status, assignee, type, priority, blocked/ready toggles) should be persisted to localStorage and re-applied when the page is refreshed. Currently they reset to defaults on every load. Follow the existing localStorage persistence pattern used by other signals (closedDays, columnSortOrders, swimlaneGrouping).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-0hl","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Remember filter bar selections across refresh","updated_at":"2026-02-19T22:06:42Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Muted post horn SVG logo and Beady Eye rename in navbar and page title","closed_at":"2026-02-19T14:07:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"aa8405b8f535898de06b2f1e6d387a4919275e902b7c8b9743d8bba69f05f577","created_at":"2026-02-19T13:50:59Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add the muted post horn symbol from The Crying of Lot 49 as the app logo, displayed top-left next to the app name. The app name in the display should read \"Beady-eye\" instead of \"bd-eye\".","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-181","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add muted post horn logo and rename display to \"Beady-eye\"","updated_at":"2026-02-19T14:07:20Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Throughput chart implemented with stacked bars, moving average, type breakdown sparklines","closed_at":"2026-02-19T15:40:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"691cfe0caa2fc0afad0e0ec2ba5884016edce90ee7c2611122c3a31dcd2f0f06","created_at":"2026-02-19T11:09:46Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Chart showing issues closed over time. The closed_at timestamp already exists on issues","design":"## Visual Design: Stacked Bar Chart with Moving Average\n\n### Concept\nStacked colour-coded bars (task=blue, feature=purple, bug=red, epic=orange) with a cubic-bezier moving average overlay line. Each bar segment has a vertical gradient fade for depth on dark background. Not a boring flat bar chart.\n\n### Key Visual Elements\n\n- **Stacked bars**: One per time bucket, segments stacked by issue type. Vertical gradient (full → 55% opacity) gives subtle depth\n- **Moving average line**: 3-period rolling average as smooth cubic bezier curve in accent blue at 70% opacity, with small circles at data points\n- **Bar glow on hover**: SVG `feGaussianBlur` + `feMerge` filter brightens hovered bar. Non-matching types dim to 18% opacity\n- **Responsive via ResizeObserver**: SVG redraws at container width. Height clamped to 35% aspect ratio\n- **X-axis label thinning**: Labels printed every N bars, scaling with bucket count\n- **Type breakdown panel**: Below chart, each type gets a row with mini sparkline (80x28 SVG), count, and percentage bar\n\n### Component Structure\n\n\\`\\`\\`\nThroughputChart            — root, owns state, fetches issues\n  StatCard                 — individual stat (total, avg, best, trend)\n  TypeLegend               — pill buttons to filter-highlight types\n  BucketToggle             — Day | Week | Month segmented control\n  SvgChart                 — pure SVG, all data as props\n    \u003cdefs\u003e                 — gradients + glow filter\n    y-tick lines + labels\n    bar \u003cg\u003e groups         — stacked \u003crect\u003e segments + x-label\n    moving average \u003cpath\u003e + \u003ccircle\u003e points\n  Tooltip                  — absolute-positioned HTML overlay\n  TypeBreakdownRow (x4)    — sparkline + bar + count per type\n    MiniSparkline          — tiny 80x28 SVG area fill + bezier + end dot\n\\`\\`\\`\n\n### Bucketing Logic\n\n\\`buildBuckets(issues, granularity)\\` pure function:\n1. Filter to issues with \\`closed_at\\` non-null\n2. Compute bucket key: \\`YYYY-MM-DD\\` (daily), ISO Monday week-start (weekly), \\`YYYY-MM\\` (monthly)\n3. Accumulate into \\`Map\u003ckey, { task, bug, feature, epic, total }\u003e\\`\n4. Return sorted by key\n\nGranularity switchable via BucketToggle; re-runs via \\`useMemo\\`.\n\n### Summary Statistics\n\n| Stat | Computation |\n|---|---|\n| Total closed | Sum of all bucket totals |\n| Avg/period | totalClosed / buckets.length |\n| Best period | Bucket with highest total |\n| Trend | Last 3 avg vs prior 3 avg, signed % |\n| Periods | buckets.length |\n\nTrend suppressed when \u003c 4 buckets.\n\n### SVG Techniques\n\n- \\`linearGradient\\` with vertical fade per bar segment\n- Cubic bezier path for moving average (midpoint control points)\n- \\`feGaussianBlur\\` + \\`feMerge\\` filter for hover glow in \\`\u003cdefs\u003e\\`\n- \\`transition: opacity 150ms ease\\` on bar groups for type-dim animation\n- Bar width: \\`Math.max(2, Math.min(40, innerW / n - 3))\\`\n- Tooltip flips left when it would overflow right edge\n\n### Interactions\n\n- Hover bar → glow + tooltip with date, total, per-type breakdown\n- Hover legend pill → dim all bars except that type across entire chart\n- Click BucketToggle → re-bucket data (Day/Week/Month)\n- Moving average dots enlarge on nearby bar hover","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-1eo","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Throughput chart","updated_at":"2026-02-19T15:40:29Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Testing auto-sync","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"005f8bbe5bd8e38027a62c11c490fbfecf43f51ee75ada2e1433ce14aef6593f","created_at":"2026-02-16T10:38:07Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"delete","deleted_at":"2026-02-16T10:38:18Z","deleted_by":"Daniel Chicot","description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-2vs","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"task","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"tombstone","target":"","timeout_ns":0,"title":"Test auto-sync hook","updated_at":"2026-02-16T10:38:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented h/l column navigation complementing j/k card navigation","closed_at":"2026-02-19T13:15:24Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b29ad637f05c53416e3acb238bfa99998d2078e94c412fffa1dc58662e87d585","created_at":"2026-02-19T13:13:59Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add h/l keyboard shortcuts to move focus left/right between board columns, complementing the existing j/k card navigation. h moves to the previous column, l moves to the next column. Should maintain vertical position where possible.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-2yu","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Vim h/l keys to navigate between board columns","updated_at":"2026-02-19T13:15:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Added max-height: 360px and overflow-y: auto to .swim-cell in main.css","closed_at":"2026-02-19T16:14:15Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fe56b6e2602c2c03a70c1a1874da68d392631d6382041873dd77bffdcf704ef8","created_at":"2026-02-19T16:14:11Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Constrain swimlane cell height to 360px with overflow-y auto so rows with many cards in one column don't stretch the entire grid row off-screen.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-4jc","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Make swimlane cells independently scrollable","updated_at":"2026-02-19T16:14:15Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented and verified - markdown renders correctly in detail panel","closed_at":"2026-02-19T11:33:34Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7583acc2a7cda1aeb72b7feaa308f5df903615817492dad929e100bcaf399e1a","created_at":"2026-02-19T11:09:38Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Render issue descriptions and notes as markdown in the detail side panel instead of displaying raw text","design":"## Implementation\n\n1. Install `marked` dependency\n2. Create a `Markdown` component that uses `marked` to parse markdown and renders via `dangerouslySetInnerHTML`\n3. Sanitise output with marked's built-in sanitiser options\n4. Replace `pre-wrap` text divs in DetailPanel with the Markdown component for: description, design, notes, comment text, acceptance criteria\n5. Add CSS for rendered markdown (headings, lists, code blocks, links) scoped under `.markdown-body`\n\n## Test plan\n- Open bd-eye-4vd in the detail panel — its own description contains markdown (## headings, bullet lists, backtick code)\n- Verify headings, lists, inline code, and paragraphs render correctly\n- Verify plain text issues still display correctly (no markdown artefacts)","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-4vd","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Markdown rendering in detail panel","updated_at":"2026-02-19T12:09:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented per-column sort control with dropdown menu","closed_at":"2026-02-19T13:05:40Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6ac6237b8528b40f213578732737c03f03069e2324edbf039400b58a0d991ea6","created_at":"2026-02-19T12:55:58Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Allow users to change the sort order of cards within board columns. Currently cards are sorted by priority then created_at. Users should be able to choose alternative orderings such as by age, assignee, or type.","design":"## UI Design: Icon Button + Dropdown\n\nA small sort icon button in each column header that opens a dropdown menu. When a non-default sort is active, the icon gets accent color.\n\n### Sort options\n- Priority (default)\n- Age (oldest first)\n- Assignee (alphabetical)\n- Type\n\n### Visual treatment\n- Sort icon button matches recency-btn sizing (compact, 1px border, transparent bg)\n- Non-default state: border + icon color shift to accent (not filled, to avoid competing with recency toggle)\n- Dropdown: dark surface, 6px radius, box-shadow, left-anchored below button\n- Active option highlighted with accent text color\n\n### Files to modify\n- state.js: add columnSortOrders signal (per-column sort preference)\n- Board.jsx: extract sort logic into configurable comparator, pass SortControl as headerExtra\n- New SortControl.jsx component (icon button + dropdown)\n- main.css: sort-control, sort-btn, sort-dropdown, sort-option styles\n\n### Interaction\n- Click sort icon → dropdown opens\n- Click option → sort applied, dropdown closes\n- Click outside → dropdown closes\n- Each column remembers its own sort independently","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-5bz","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Board column sort ordering","updated_at":"2026-02-19T13:05:40Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Fixed: moved onKeyDown to modal div, removed j/k bindings that conflicted with input, added scroll-into-view for active result","closed_at":"2026-02-19T21:40:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d7f2bb9b1e3c9507783c43df492ad7ed6320b8f97f7dfe63c67f75a2431d660f","created_at":"2026-02-19T21:38:22Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"ArrowUp/ArrowDown keys were not navigating results because the handler was on the overlay div and the input consumed arrow events. Also j/k bindings conflicted with typing.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-7ai","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Arrow keys don't navigate search results in cmd-k modal","updated_at":"2026-02-19T21:41:36Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"99 tests, 94.87% branch coverage, squash-merged via PR #2","closed_at":"2026-02-15T18:39:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7105778a749ed631764e5f8792e42887ae3ec78893a7fe4aafc7fc49f66a819e","created_at":"2026-02-15T17:38:53Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"The project currently has zero tests. Add a comprehensive test suite targeting at least 85% code coverage.\n\n## Scope\n\nServer-side code in src/server/:\n\n- **db.js**: detectDbType() path classification (sqlite vs dolt), resolveDbPath() env var / auto-discovery / fallback behaviour, openDb() factory dispatching\n- **db-sqlite.js**: All Db interface methods (allIssues, issueById, readyIssues, blockedIssues, dependenciesFor, epics, epicChildren, labels, commentsFor, allLabels, searchIssues, close) against a temp SQLite database\n- **db-dolt.js**: Same Db interface methods — will need a mock or integration test against a real Dolt SQL server\n- **routes/issues.js**: Response shapes, query param filtering, 404 handling, label attachment via attachLabels()\n- **watcher.js**: createWatcher() factory dispatching, SQLite watcher triggers on file change, Dolt watcher polls and detects hash changes\n- **index.js**: Startup wiring (may be covered by integration tests)\n\n## Approach\n\n- Pick a test runner (vitest recommended — fast, ESM-native, built-in coverage via c8/v8)\n- Use parameterized tests where possible\n- Use a temp SQLite database for db-sqlite and route tests\n- Mock mysql2/promise for db-dolt unit tests\n- Add npm scripts: test, test:coverage\n- Configure coverage thresholds: 85% minimum for lines, branches, functions, statements\n- Add coverage config to vitest.config.js or package.json","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-7jb","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add test suite with 85% minimum coverage","updated_at":"2026-02-19T12:09:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Set lastUpdated in useIssues after initial fetch completes","closed_at":"2026-02-19T12:54:39Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"201d1fdf33c0d2f2f27e70c431197a9cb79a8d6791ce8a567f0724f9682e190c","created_at":"2026-02-19T12:54:34Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Set lastUpdated on initial data fetch so the timestamp appears immediately, not only after the first SSE event","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-81k","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Show updated-at indicator on initial page load","updated_at":"2026-02-19T12:54:39Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-19T13:42:13Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8d2c497695f210351c6a7da50a891f88ac899b518dd31acb21f8535dba22114c","created_at":"2026-02-19T13:37:36Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Arrow keys should navigate through search suggestions in the dependency graph search box, Enter to select. Matches the behaviour of the Cmd+K search modal.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-87a","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Keyboard navigation for dep graph search results","updated_at":"2026-02-19T13:42:13Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a9a36149baa77595db380e9eb1dfcfeb2ab31d584bc4b67b0011ab2ba3bb6ca5","created_at":"2026-03-02T08:03:37Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add addLabel(issueId, label) and removeLabel(issueId, label) to the Db typedef and db-dolt.js implementation. addLabel inserts into the labels table (idempotent — INSERT IGNORE or equivalent). removeLabel deletes from the labels table (idempotent — no error if missing).\n\nAdd two new endpoints to routes/issues.js:\n- POST /issues/:id/labels with body { label: 'string' } — calls db.addLabel, returns { ok: true }\n- DELETE /issues/:id/labels/:label — calls db.removeLabel, returns { ok: true }\n\nBoth should validate the issue exists (404 if not). Add tests for both db methods and both route endpoints following existing test patterns in tests/db-dolt.test.js and tests/routes-issues.test.js.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-89m","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add label write API and Db methods","updated_at":"2026-03-02T08:03:37Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Fixed: watcher now uses DOLT_HASHOF_DB() to detect working set changes","closed_at":"2026-02-19T12:22:06Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4273f083d74ae604b29a9c9b1939c141654fa18350e10d3094e626770578123e","created_at":"2026-02-19T12:16:19Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"The Dolt watcher polled HASHOF('HEAD') which only changes on commit. Since bd writes to the working set without committing, the watcher never detected changes. Changed to HASHOF('WORKING') so SSE fires on any working set write.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-8tu","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Dolt watcher polls WORKING instead of HEAD","updated_at":"2026-02-19T12:22:06Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Activity feed implemented with timeline view, status transitions, type glyphs, and relative timestamps","closed_at":"2026-02-19T14:44:01Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7ec9605afbe19c7e3a4fef01c9edc56f6165f565e76a81d156c8747533b58670","created_at":"2026-02-19T11:09:39Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Show recent status changes across the project with timestamps. The data (created_at, updated_at, closed_at) already exists on issues","design":"## Visual Design: Vertical Timeline Feed\n\nA left-edge timeline with a continuous connector line and coloured status dots. Compact horizontal rows: dot | type glyph | mono ID | title (truncated) | status transition badges | timestamp.\n\n### Key Visual Elements\n\n- **Timeline bar**: 2px vertical line in `--color-border` with gradient fade toward bottom\n- **Status dots**: 10px coloured circles — blue=opened, amber=in-progress, grey=closed. Top dot pulses via `box-shadow` keyframe\n- **Type glyphs**: Unicode characters — ⬤ task, ⬡ bug, ◈ feature, ◆ epic — coloured by `--color-type-*` vars\n- **Status transition**: From→to badge pairs (e.g. `open › in-progress`) reusing existing `.badge` classes. The `from` badge at 0.6 opacity\n- **Slide-in animation**: New entries animate from top with 200ms translate+opacity. Tracked via ref to only fire on genuinely new entries\n- **Hover**: Left-border flash to `--color-accent-primary` + `--color-bg-tertiary` background\n\n### Event Shape\n\n```js\n{\n  id: 'BD-42',\n  title: 'Fix login redirect loop',\n  issue_type: 'bug',       // bug | feature | task | epic\n  from: 'open',            // null when first opened\n  to: 'in-progress',\n  assignee: 'alice',       // nullable\n  timestamp: '2026-02-19T14:23:00Z',\n}\n```\n\n### Data Source\n\nDerive events from existing issue fields: `created_at` → opened, `updated_at` + status → transition, `closed_at` → closed. No backend changes needed.\n\n### Component Structure\n\n- `ActivityFeed({ events, onSelectIssue, limit })` — container with header + scrollable list\n- `FeedEntry({ event, isFirst, onClick })` — single timeline row\n- `StatusTransition({ from, to })` — badge pair with arrow\n- `relativeTime(dateStr)` — \"3m ago\", \"2h ago\", \"1d ago\" formatter\n\n### CSS Highlights\n\n- `.feed-list::before` pseudo-element draws the continuous timeline wire\n- `.feed-dot` sits on wire via `z-index: 1`\n- `.feed-title` uses `flex: 1; min-width: 0; text-overflow: ellipsis` for graceful truncation\n- `@keyframes feed-pulse` on top dot only — `box-shadow` spread, no layout shift\n- `@keyframes feed-slide-in` — one-shot entrance for new entries only\n- Zero hardcoded colours — all via CSS custom properties","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-9zd","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Activity feed","updated_at":"2026-02-19T14:44:01Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented vim-style j/k card navigation, Enter to open detail panel, Escape to clear focus","closed_at":"2026-02-19T13:12:45Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cf352c646dc38f882f73f02fab3bcc9b0bf6d0f29211a4da48619ed3518e1942","created_at":"2026-02-19T11:09:51Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"j/k to move between cards, enter to open detail panel, escape to close. Vim-style navigation for power users","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-b04","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Keyboard navigation","updated_at":"2026-02-19T13:12:45Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented and pushed","closed_at":"2026-02-19T20:31:13Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"61a37f2d8ddb78bf469ea3ec027019e1cad551af023adadb2a6c5ec5fd43b2e3","created_at":"2026-02-19T20:31:09Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Store column sort orders in localStorage so they survive page refresh.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-cmh","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Persist column sort orders across refresh","updated_at":"2026-02-19T20:31:13Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented and pushed","closed_at":"2026-02-19T20:29:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4a3b99cf8cf368062b070f5748443df72ace7e8d83927fe2e860cb7acb63963a","created_at":"2026-02-19T20:28:58Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Added 'Last updated' as a sort option for board column ordering, sorts most recently updated first.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-cxh","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add last updated sort option to board columns","updated_at":"2026-02-19T20:29:02Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"SSE highlight working - amber flash on updated cards confirmed live","closed_at":"2026-02-19T18:17:14Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a29c00b2e01c308098d652db5a974f1143c39997993b443484cf10d41a024b2a","created_at":"2026-02-19T17:52:27Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"When an SSE refresh event arrives indicating a change, subtly highlight any cards visible on the current board that were updated. This gives the user a visual cue about what changed without being disruptive. Only highlight cards that are currently rendered — no effect for off-screen or filtered-out issues.","design":"## Approach: Client-side diff (no server changes needed)\n\nThe SSE event only carries the project name — the watcher polls `DOLT_HASHOF_DB` which is a whole-database hash. No per-issue granularity is available from the server.\n\nInstead, diff on the client after re-fetch:\n\n### Data flow\n\n1. **Before re-fetch**: snapshot `Map\u003cid, updated_at\u003e` from current issue data\n2. **After re-fetch**: compare each issue's `updated_at` against the snapshot\n3. **Changed issues**: add a `kanban-card--highlighted` CSS class to their card elements\n4. **Auto-remove**: CSS `animationend` event removes the class\n\n### Visual treatment: Background flush + left border accent\n\nRecommended by UI/UX review. Uses a warm amber background tint (8-10% opacity) paired with a 2px left border accent in the same hue. Both fade to transparent over 2.4s. This is the established convention (Gmail unread, GitHub comment updates) — subtle, professional, colourblind-accessible via the border.\n\n### Animation spec\n\n- **Total duration**: 2400ms\n- **Hold phase**: 0–400ms (ease-in, fast arrival)\n- **Fade phase**: 400–2400ms (ease-out via `cubic-bezier(0.4, 0, 0.2, 1)`)\n- **Background**: 0 → 10% opacity → 0 (peaks at 400ms)\n- **Border**: 0 → full → 0 (peaks at 300ms, fades faster)\n\n### Edge cases\n\n- **Multiple cards simultaneously**: each runs its own independent animation, no staggering\n- **Re-trigger while fading**: restart animation from the beginning (remove class, force reflow, re-add)\n- **Reduced motion**: `@media (prefers-reduced-motion: reduce)` — static left border with delayed CSS transition fade, no animation\n\n### CSS\n\n```css\n:root {\n  --highlight-hue: 45;\n  --highlight-saturation: 90%;\n  --highlight-border: hsl(var(--highlight-hue), var(--highlight-saturation), 45%);\n  --highlight-duration: 2400ms;\n}\n\n@keyframes card-updated {\n  0%   { background-color: hsla(var(--highlight-hue), var(--highlight-saturation), 60%, 0); border-left-color: transparent; }\n  15%  { background-color: hsla(var(--highlight-hue), var(--highlight-saturation), 60%, 0.10); border-left-color: var(--highlight-border); }\n  100% { background-color: hsla(var(--highlight-hue), var(--highlight-saturation), 60%, 0); border-left-color: transparent; }\n}\n\n.kanban-card { border-left: 2px solid transparent; }\n.kanban-card--highlighted { animation: card-updated var(--highlight-duration) cubic-bezier(0.4, 0, 0.2, 1) forwards; }\n\n@media (prefers-reduced-motion: reduce) {\n  .kanban-card--highlighted {\n    animation: none;\n    border-left-color: var(--highlight-border);\n    transition: border-left-color 600ms ease-out 1800ms;\n  }\n}\n```\n\n### JS re-trigger pattern\n\n```js\nfunction highlightCard(el) {\n  el.classList.remove('kanban-card--highlighted')\n  void el.offsetWidth // force reflow\n  el.classList.add('kanban-card--highlighted')\n  el.addEventListener('animationend', () =\u003e el.classList.remove('kanban-card--highlighted'), { once: true })\n}\n```\n\n### Files to modify\n\n- `src/client/hooks/useIssues.js` — expose `changedIds` set by comparing pre/post fetch `updated_at`\n- `src/client/components/Card.jsx` (or wherever cards render) — apply `kanban-card--highlighted` when id is in `changedIds`\n- `src/styles/main.css` — animation keyframes and highlight classes\n\n### Alternative considered and rejected\n\nQuerying `dolt_diff_issues` between old/new commit hashes server-side would give exact changed rows, but adds a query per SSE event and requires passing commit hashes through the SSE payload. Overkill for a subtle visual hint.","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-d0b","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Live test - watching for highlight flash on the board","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Subtle highlight on updated cards when SSE fires","updated_at":"2026-02-19T18:17:14Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"382 tests passing, coverage: 93.48% stmts, 89.30% branches, 94.18% functions, 94.68% lines — all exceeding 85% threshold","closed_at":"2026-02-19T11:51:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"25026fa056da20864216929c2c3eaf62d72c3b73451f72db08f8434200172591","created_at":"2026-02-19T11:35:30Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add component tests for all client-side code (components, hooks, router, state) using vitest with @testing-library/preact to achieve 85% coverage","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-dd3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Client-side test coverage to 85%","updated_at":"2026-02-19T12:09:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Already have filters at the top (FilterBar) that cover this need","closed_at":"2026-02-19T14:28:12Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"eedcf028b7388179cc7f77c9017957dbb787a71dd1ad35a20c9f557d644aa54c","created_at":"2026-02-19T12:56:01Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add per-column filtering to board columns so users can narrow down cards within a specific column independently of the global filter bar. For example, filtering the Open column by assignee or type without affecting other columns.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-dif","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Board column filters","updated_at":"2026-02-19T14:28:12Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Added id column to search queries in both SQLite and Dolt drivers. Fixes both dep graph search and Cmd+K modal.","closed_at":"2026-02-19T13:35:53Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"be601ea42dc4eed1390b9b13d5cd6e94044ae33e07e3dfe6a365a034a2c68aa3","created_at":"2026-02-19T13:35:01Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"The search API only matches on title/description/notes, not the id column. Users should be able to search by typing the issue ID or its suffix.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-dyf","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Search by issue ID","updated_at":"2026-02-19T13:35:53Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-21T10:38:58Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"20ec6bfa1ba309eb636abfd3d8e3cf4522d6246aae2e34476ce91d636185989b","created_at":"2026-02-21T10:36:53Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Each useIssues/useLiveUpdates call creates its own EventSource('/api/events'). Board alone opens 2 connections; other views add more. Refactor to a single shared EventSource that hooks subscribe to via a pub/sub pattern.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-eex","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Deduplicate SSE connections into single shared EventSource","updated_at":"2026-02-21T10:38:58Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Fixed: localStorage persistence for currentView + modifier key guard to prevent Cmd+R triggering navigate('ready')","closed_at":"2026-02-19T20:24:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e1c45086f01f52730c2c5085da02a205ef2428570618177a6932f98a8ced599e","created_at":"2026-02-19T18:18:21Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"When refreshing or revisiting the page, bd-eye always defaults to the ready tab. It should restore the last active view (board, ready, epics, deps, etc.) from localStorage so the user returns to where they left off.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-eh0","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Persist selected view tab across refresh and revisit","updated_at":"2026-02-19T20:24:24Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Won't do — the AI creates and updates beads, inline card creation not needed","closed_at":"2026-02-19T21:34:04Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"699536bd02cfb2422825189c64f169ab86302d14a097be25e3cce3c7ace1ff19","created_at":"2026-02-19T11:09:41Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add new issues directly from the board view without navigating away, creating cards inline within a column","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-f19","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Inline card creation","updated_at":"2026-02-19T21:34:04Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"wontdo","closed_at":"2026-02-19T22:07:57Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e5226720fe9ef2df743d7e37b29ddd7fa31565b32070844350f109a38b483f20","created_at":"2026-02-19T11:09:52Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Let users define which statuses map to which board columns and in what order, beyond the current fixed Open/In Progress/Closed layout","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-fqu","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Custom column ordering","updated_at":"2026-02-19T22:07:57Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented: assignee picker popover on cards and detail panel, PATCH /issues/:id/assignee endpoint, /api/config endpoint for current user, full test coverage","closed_at":"2026-02-19T21:54:52Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b13914d1aa0ed63226ece6ce9ebe055919133d876b22611083dcaff7d00c02af","created_at":"2026-02-19T21:43:11Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Clicking the assignee name (or 'unassigned') on a card or detail panel should open a picker showing all known users. Known users = distinct assignees from the issues table in the current project database.","design":"## UX Recommendations (from UI/UX review + frontend expert review)\n\n### Interaction pattern\n- Portal popover (createPortal from preact/compat to document.body) anchored to assignee text\n- Same component on both card and detail panel\n- Click assignee always opens the picker (consistent behaviour, no one-click self-assign)\n- For power users, keyboard shortcut (a key) for quick self-assign from detail panel\n\n### Picker layout\n\n```\n+---------------------+\n| [ filter...       ] |  \u003c- show only if \u003e8 users\n+---------------------+\n| *  Assign to me     |  \u003c- pinned shortcut at top\n| o  Unassigned       |\n+---------------------+\n|    Alice Nguyen     |  \u003c- current assignee marked (checkmark/bold)\n|    Bob Chen         |\n+---------------------+\n```\n\n- List items min 32px tall\n- Current assignee visually marked\n- Close on: item selection, Escape, click outside (mousedown on document), scroll\n\n### Keyboard navigation\n- Arrow keys move focus through list\n- Enter selects, Escape closes\n- Filter input gets auto-focus if present; arrow down moves into list\n\n### Signalling interactivity\n- Cards: dashed underline on hover only\n- Detail panel: small edit icon on hover\n\n### Data source\nDerive client-side from existing issues signal (no new API endpoint for the list):\n```js\nconst assigneeList = computed(() =\u003e {\n  const names = new Set(issues.value.filter(i =\u003e i.assignee).map(i =\u003e i.assignee))\n  return [...names].sort()\n})\n```\n\n### Current user identity\nNew /api/config endpoint returning git user.name. Stored in a currentUser signal, populated once on app init.\n\n### Backend\n- New PATCH /issues/:id/assignee endpoint: { \"assignee\": \"name\" } or { \"assignee\": null }\n- New Db method: updateIssueAssignee(id, assignee)\n\n### Key implementation details\n- stopPropagation() on assignee click to prevent card onClick and drag initiation\n- Close popover on scroll (listener on nearest scrollable ancestor)\n- Click-outside via mousedown listener on document\n- Z-index above dnd-kit DragOverlay\n- Optimistic updates: follow existing optimisticMoves pattern\n- Accessibility: role=button + tabindex=0 on trigger, role=listbox on popover, aria-activedescendant, aria-expanded\n\n### Scope\n~300-350 lines: popover component (~150), CSS (~50), server endpoint + Db method (~20), tests (~80-100), wiring into Card + DetailPanel (~20)","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-gvq","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"### Additional: \"Assign to me\" shortcut\n\nMost common use case is self-assignment. Add an \"Assign to me\" option pinned above the user list, below \"Unassigned\":\n\n```\n+---------------------+\n| o  Unassigned       |\n| *  Assign to me     |  \u003c- pinned shortcut, bold/highlighted\n+---------------------+\n|    Alice Nguyen     |\n|    Bob Chen         |\n+---------------------+\n```\n\nCurrent user identity: could come from git user.name (already used by beads as the default actor), passed from server config or an env var. No auth system needed — just a configured name.\n\nOn cards, a single click on \"unassigned\" could go straight to self-assign without opening the picker at all (since that is the most common action). The full picker would still be available via a small dropdown chevron or long-press.","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Click assignee to reassign from known users","updated_at":"2026-02-19T21:55:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented arrow key aliases alongside vim h/j/k/l navigation","closed_at":"2026-02-19T13:24:26Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"7106ad97b110e38015827d71be58c4fa050771b6e6b71bf74a65422166d75822","created_at":"2026-02-19T13:24:23Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Arrow keys work as aliases for vim h/j/k/l card navigation: ArrowDown=j, ArrowUp=k, ArrowRight=l, ArrowLeft=h.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-inm","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Arrow key aliases for card navigation","updated_at":"2026-02-19T13:24:26Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Project switcher fully implemented with multi-database support, pretty names, migration script, and README docs","closed_at":"2026-02-19T17:51:01Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9e9c51a938d1d3343ccc9ebf8723c94510319bd19a2fbfec124aa8180ddbbc17","created_at":"2026-02-19T11:09:49Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Multi-project navigation allowing bd-eye to point at multiple beads databases and switch between them.\n\n## Implementation Plan\n\n### Architecture\nOne Dolt server serves multiple databases via `--data-dir`. bd-eye discovers valid beads databases via `SHOW DATABASES` + table validation. API routes gain a `/:project/` path segment. Connection pools are lazily created per database.\n\n### Phase 1: Backend — Multi-Database Infrastructure\n\n**Step 1: `src/server/db-registry.js`** (new)\n- `Map\u003cstring, Db\u003e` pool registry\n- `connectionFor(name, baseConfig)` — returns cached or opens new via `openDoltDb`\n- `closeAll()`, `openDbs()`\n\n**Step 2: `src/server/routes/projects.js`** (new)\n- `GET /api/projects` — `SHOW DATABASES`, filter system DBs, validate each has `issues` table\n- Returns `{ projects: [{ name, issueCount }] }`\n\n**Step 3: `src/server/routes/issues.js`** (modify)\n- Change `issueRoutes(db)` to `issueRoutes(dbFor)`\n- Add middleware: `c.set('db', await dbFor(c.req.param('project')))`\n- All handlers change from closed-over `db` to `c.get('db')`\n\n**Step 4: `src/server/index.js`** (modify)\n- Wire registry, project routes, project-scoped issue routes\n- Routes become: `/api/projects` and `/api/projects/:project/*`\n- Shutdown calls `closeAll()`\n\n**Step 5: `src/server/watcher.js`** (modify)\n- Track `DOLT_HASHOF_DB()` per database name\n- Broadcast includes project name in SSE data\n\n**Step 6: `src/server/db.js`** (modify)\n- Export `SYSTEM_DBS`\n\n### Phase 2: Frontend — Project State and API Layer\n\n**Step 7: `src/client/state.js`** (modify)\n- Add signals: `currentProject`, `projectList`, `projectsLoading`\n- Subscribe `currentProject` to localStorage (`bd-eye-project`)\n\n**Step 8: `src/client/hooks/useProjects.js`** (new)\n- Fetch `/api/projects`, populate signals\n- Auto-select from localStorage or first alphabetically\n\n**Step 9: `src/client/api.js`** (new)\n- `apiUrl(path)` → `/api/projects/${currentProject.value}${path}`\n- All components use this instead of hardcoded paths\n\n**Step 10: `src/client/hooks/useIssues.js`** (modify)\n- Use `apiUrl`, re-fetch when project changes\n\n**Step 11: `src/client/hooks/useLiveUpdates.js`** (modify)\n- Parse SSE event data, filter by `currentProject`\n\n**Step 12: Update all direct fetch calls** — Board.jsx, DetailPanel.jsx, DependencyGraph.jsx, EpicExplorer.jsx, FilterBar.jsx, SearchModal.jsx → use `apiUrl`\n\n### Phase 3: Frontend — Project Switcher Component\n\n**Step 13: `src/client/components/ProjectSwitcher.jsx`** (new)\n- 0 projects: \"No projects found\"\n- 1 project: plain text, no interaction\n- 2+ projects: dropdown with check mark, issue counts, keyboard nav\n- Updates `document.title` on project change\n\n**Step 14: `src/client/components/NavBar.jsx`** (modify)\n- Insert ProjectSwitcher between app name and nav tabs\n\n**Step 15: `src/client/components/App.jsx`** (modify)\n- Call `useProjects()`, show skeleton while loading, empty state if no projects\n\n### Phase 4: Styling\n\n**Step 16: `src/styles/main.css`** — project switcher dropdown, active states, skeleton shimmer\n\n### Phase 5: Testing\n\n**Step 17:** `tests/db-registry.test.js` — pool caching, closeAll, openDbs\n**Step 18:** `tests/routes-projects.test.js` — discovery, filtering, validation\n**Step 19:** `tests/routes-issues.test.js` — update paths to project-scoped\n**Step 20:** `tests/client/ProjectSwitcher.test.jsx` — single/multi/empty modes\n**Step 21:** Update `tests/client/useIssues.test.jsx` — project-aware URLs\n**Step 22:** Update `tests/client/NavBar.test.jsx` — ProjectSwitcher present\n\n### Build Sequence\n1. db.js (export SYSTEM_DBS) → 2. db-registry.js → 3. routes/projects.js → 4. routes/issues.js refactor → 5. index.js wiring → 6. watcher.js → 7-9. server tests → 10. state.js signals → 11. api.js helper → 12. useProjects.js → 13. useIssues.js → 14. useLiveUpdates.js → 15. update 7 components → 16. ProjectSwitcher.jsx → 17. NavBar.jsx → 18. App.jsx → 19. CSS → 20. client tests\n\n### Key Decisions\n- **Path prefix** `/api/projects/:project/` over query params — cleaner URLs, natural Hono routing\n- **Lazy pool creation** — pools opened on first request, not at startup\n- **Centralised `apiUrl` helper** — minimises file changes, reads from signal\n- **SSE stays global** — one connection, client-side project filtering","design":"## Research Findings: Dolt Multi-Database Discovery\n\n### Key Finding\nOne Dolt SQL server can serve multiple databases via directory-based discovery:\n- `dolt sql-server` looks in its working directory and **one level of subdirectories** for `.dolt` directories\n- Each directory containing `.dolt` becomes a separate database, named after the directory\n- The `--data-dir` flag (or `data_dir` in YAML config) points the server at any parent directory\n- `SHOW DATABASES` lists all available projects; `USE \u003cdatabase\u003e` switches between them\n\n### Implication for Project Switcher\nThe discovery problem dissolves — no process sniffing or port scanning needed:\n1. One Dolt server started with `--data-dir` pointing at a parent containing beads project databases\n2. `discoverDoltDatabase()` in db.js already does `SHOW DATABASES` — extend it to list all databases instead of erroring on multiple\n3. Switching is a new connection pool with a different `database` field\n\n---\n\n## UX Design Spec\n\n### Placement: Nav bar, between app name and nav links\n\n```\n[ Beady Eye ]  [ project-name ▾ ]  |  Board  Ready  Epics  Deps  Activity  Throughput  |  ⌘K\n```\n\nThe project switcher is always visible — the current project is fundamental context.\n\n### Current project display\n- Muted but legible style, slightly less prominent than nav links\n- Clickable with subtle border on hover\n- **Single project**: plain text, no chevron, not interactive\n- **Multi-project**: dropdown button with chevron\n\n### Switching interaction\n- **Click switcher** → small dropdown anchored below the button\n- Current project has a check mark; arrow keys navigate, Enter selects, Escape closes\n- No search input unless projects \u003e 8 (then add filter input at top)\n- **⌘K** also accepts project names as secondary path\n\n### Loading/transition on switch\n1. Project name updates immediately (optimistic)\n2. Nav links gray out (pointer-events: none, opacity: 0.5)\n3. Board shows skeleton/shimmer over existing column structure — cards replaced with placeholder bars\n4. On data loaded: cards fade in ~150ms\n- No full-page spinner — skeleton preserves spatial continuity\n\n### First load behaviour\n- Auto-select last-used project from `localStorage` key `bd-eye.lastProject`\n- If stored project no longer valid, fall back to first alphabetically\n- First ever visit: auto-select first project, show one-time toast: \"Viewing project-name — switch projects from the top bar\" (dismiss on click or after 4s)\n- No interstitial picker — board renders immediately\n\n### Empty state (no valid projects)\n- Centred message: \"No beads projects found\" with explanation and Refresh button\n- Nav bar renders but switcher slot empty, nav links grayed out\n\n### Browser tab title\n`project-name — Beady Eye` — updated on every switch\n\n### Robustness\n- Filter `SHOW DATABASES` to exclude system databases (information_schema, mysql, sys, performance_schema)\n- Validate each candidate database has an `issues` table before listing\n- Skip empty or non-beads databases gracefully\n\n### Summary\n\n| Concern | Decision |\n|---|---|\n| Placement | Nav bar, left of nav links |\n| Single project | Plain text label, no interaction |\n| Multi-project | Dropdown off the label button |\n| ⌘K | Also accepts project switching, secondary path |\n| Transition | Skeleton over existing board structure |\n| First load | Auto-select last used, or first alphabetically |\n| Empty state | Full board replaced, refresh button |\n| Tab title | `project-name — Beady Eye` |","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-ja6","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"## Session 2026-02-19: Implementation Complete\n\nAll backend and frontend code implemented and tested (494 tests passing).\n\n### What's done\n- db-registry.js with lazy connection pools\n- /api/projects endpoint with discovery\n- Project-scoped issue routes (/api/projects/:project/*)\n- Multi-database watcher polling\n- ProjectSwitcher component with dropdown, keyboard nav, pretty names\n- All views updated to use apiUrl() helper\n- Migration script (scripts/migrate-dolt-databases.sh) — fixed to handle all dolt directory naming patterns\n\n### Pretty names\nStrips beads_ prefix, converts dashes/underscores to spaces, sentence case.\ne.g. beads_code-quality-dashboard → \"Code quality dashboard\"\n\n### Pending\n- Live browser testing to verify end-to-end","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Project switcher","updated_at":"2026-02-19T17:51:01Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented: subtle timestamp in bottom-right that flashes green on SSE refresh, fades to muted grey","closed_at":"2026-02-19T12:29:21Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0d8bf5892035c90cbc269c6351c67fcdbeaf0a6df4362b3e9fa55b64a209f79f","created_at":"2026-02-19T12:26:01Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Subtle visual indicator when the board receives an SSE refresh, so the user knows data has changed. Currently the board silently re-renders which can be disorienting.","design":"## Implementation\n\n### Approach: Status bar timestamp with fade-in highlight\n\nA \"Updated HH:MM:SS\" timestamp in the bottom status bar that briefly brightens on each SSE refresh, then fades back to a dimmed resting state. Non-intrusive, never covers content, never requires dismissal.\n\n### Behaviour\n1. SSE refresh completes → timestamp updates to current time → colour jumps to active/bright state\n2. After 800ms hold, transitions to resting state over 2200ms (total visible: 3s)\n3. If another SSE fires mid-fade, animation resets from bright state\n4. No user action required\n\n### Visual spec (dark theme)\n- Position: right-aligned in the status bar\n- Font: 0.75rem, monospace/tabular numerals (no layout shift)\n- Resting colour: `#4a5568` (muted grey, ~40% brightness)\n- Active colour: `#68d391` (soft green, \"data arrived\" semantic)\n- Transition: `color` property, `ease-out`, 2200ms fade-back\n- Background: transparent, inherits status bar\n\n### Integration\n- After SSE-triggered board state update, set a signal/boolean that the StatusBar observes\n- StatusBar stores last-updated Date and isHighlighted boolean\n- On highlight: apply active CSS class, setTimeout 800ms to clear (CSS handles remaining fade)\n- A module-level signal is sufficient, no global state manager needed\n\n### Scope\n- Shows THAT an update occurred, not WHAT changed\n- Card-level diff animation is a separate, larger feature\n\n### Files to change\n- `src/client/main.css` — add `.status-updated` active and transition rules\n- `src/client/state.js` — add `lastUpdated` signal\n- `src/client/hooks/useLiveUpdates.js` — set lastUpdated on SSE refresh\n- New or inline: `UpdatedAt` component in the status bar area\n- `src/client/components/App.jsx` — render UpdatedAt in the layout","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-l2k","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Board updated indicator","updated_at":"2026-02-19T12:29:21Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cd7a05e4a7450beab75e9d193d588d5a9561ac9599da0a68ab3dfce81b660772","created_at":"2026-03-02T08:03:51Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Cards in the Backlog column that have a defer_until date in the past should get a visual indicator:\n- Amber/orange left border on the card (similar style to the changedIds amber flash pattern)\n- Tooltip showing 'Deferred until {date} — expired'\n\nThis is purely CSS + a date comparison in the card render. No new state or API calls needed. The defer_until field is already returned by SELECT * from the issues table.\n\nAdd Card tests for: card with expired defer_until shows amber border, card with future defer_until does not show amber border, card with no defer_until does not show amber border.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-ncp","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add graduated defer visual nudge on cards","updated_at":"2026-03-02T08:03:51Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented board swimlanes with group-by control (Assignee, Priority, Type, Label), collapsible rows, empty cell states, CSS Grid layout, and 14 new tests","closed_at":"2026-02-19T16:05:40Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fb429e6967f73707cda5075bde6b47e12afef9cbc5991f914b086d004eb01ade","created_at":"2026-02-19T11:09:40Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Group rows within each board column by assignee, epic, or label for better visual organisation","design":"## Visual Design Specification\n\n### Layout Strategy: CSS Grid (row-major)\n- `grid-template-columns: 220px repeat(3, 1fr)` — pinned row header + 3 column tracks\n- Column headers as global grid headers with `position: sticky; top: var(--toolbar-height)` (z-index: 30)\n- Row headers with `position: sticky; left: 0` (z-index: 20)\n- Top-left corner cell sticky in both axes (z-index: 35) — houses Group-by control\n\n### Group-By Control: Segmented Pill Group\n- Horizontal pill group in the toolbar: None | Assignee | Epic | Label | Priority\n- Sliding indicator beneath active pill: `transform: translateX()` with 200ms cubic-bezier(0.4,0,0.2,1)\n- `role=\"radiogroup\"` with `role=\"radio\"` per pill, arrow-key navigation\n- Live region announces \"Board grouped by [X]\" on change\n- Responsive fallback: collapses to dropdown `[⊞ Group by: Assignee ▾]` on narrow viewports\n\n### Swimlane Row Design\n- Row header: 220px wide, darker blend background, casts right-edge shadow\n- Collapse chevron (▾/▸) — 90° rotation, 200ms transition\n- Below label: secondary line \"N issues\" in muted text\n- Collapsed state: 48px height, cards hidden via `display: none`\n- Row dividers: 2px border-top with subtle top-edge gradient (rgba(255,255,255,0.03))\n- Alternating row tint: rgba(255,255,255,0.012) on column cells only\n\n### Row Label Treatment by Grouping Type\n- **Assignee**: 32×32 avatar circle (image or hashed-colour initials) + name + count. \"Unassigned\" gets dashed circle with person icon\n- **Priority**: 10px coloured dot with subtle box-shadow glow + priority name + count. Colours: Critical=#ef4444, High=#f97316, Medium=#eab308, Low=#22c55e\n- **Label**: Existing label badge components inline + count\n- **Epic**: Hexagon/diamond icon in epic accent colour (#8b5cf6 default) + name + count\n\n### Empty States\n- Empty cell: dashed border (1.5px), centered italic \"No issues\", min-height 80px. On drag-hover: solid accent border + tinted background\n- Empty lane: collapsed by default showing \"0\" badge, expandable\n\n### Animation Choreography\n- Expand: row height grows (250ms ease), cards stagger fade+slide-up (15ms per card, capped at 5)\n- Collapse: all cards fade out (100ms), then row shrinks (200ms ease-in)\n- Grouping transition: board cross-fade (150ms out, 220ms in with 6px translateY), pointer-events disabled during\n- `@media (prefers-reduced-motion: reduce)`: all transitions disabled except 100ms opacity fade\n\n### Depth \u0026 Layering (dark theme)\n| Layer | Element | Shadow |\n|-------|---------|--------|\n| 0 | Page bg | — |\n| 1 | Row cells | — |\n| 2 | Row headers (pinned) | 4px 0 12px rgba(0,0,0,0.35) |\n| 3 | Column headers (sticky) | 0 2px 8px rgba(0,0,0,0.4) |\n| 4 | Cards | 0 1px 3px rgba(0,0,0,0.3) |\n| 5 | Drag ghost | 0 8px 24px rgba(0,0,0,0.5) |\n\n### Scrolling\n- Board: single scroll container, `overflow: auto`, `height: calc(100vh - toolbar-height)`\n- Column headers sticky top, row headers sticky left — CSS Grid handles both\n- Scroll shadow on column headers: `0 4px 16px rgba(0,0,0,0.5)`\n\n### Accessibility\n- `role=\"grid\"` with `role=\"rowgroup\"`, `role=\"row\"`, `role=\"rowheader\"`, `role=\"gridcell\"`\n- Arrow keys: Up/Down between rows, Left/Right between cells\n- Collapse button: `aria-expanded`, `aria-controls`\n- Collapsed lanes: `aria-hidden=\"true\"`, removed from tab order\n- Focus ring: `outline: 2px solid var(--color-accent); outline-offset: 2px`\n\n### Files to Modify\n- `src/client/state.js` — swimlaneGrouping signal (null|assignee|epic|label|priority)\n- `src/client/components/Board.jsx` — grouping logic, CSS Grid row-major rendering\n- `src/client/components/FilterBar.jsx` — Group-by segmented pill control\n- `src/client/components/DroppableColumn.jsx` — adapt for cell-within-row usage\n- `src/styles/main.css` — swimlane grid layout, row headers, animations\n- New: `src/client/components/SwimlaneRow.jsx`","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-nzv","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Board swimlanes","updated_at":"2026-02-19T16:05:40Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented cycle time tracking: duration badges on cards, timing section in detail panel, scatter plot + stats in throughput chart","closed_at":"2026-02-19T21:21:39Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"32e9a01fd2370d4e303e22b0cbad548741aa4db859c198eda2b176a349e5b3ed","created_at":"2026-02-19T11:09:47Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Track and display time from open to closed per issue, giving visibility into how long work takes","design":"## UX Design\n\n### Display locations\n\n| Location | What | When |\n|---|---|---|\n| Board card | Age/cycle time (e.g. `4d`), colour-coded grey/amber/red | Always, bottom-right of card |\n| Detail panel | Full timing section with comparison to team median | On card click |\n| ThroughputChart | Stats bar (median, p75, trend arrow) + scatter plot overlay | Chart view |\n\n### Formatting\nTiered display: `\u003c 1h`, `6h`, `3d`, `2w`, `6w`. Full precision only in detail panel.\n\n### Colour thresholds (computed from data, not hardcoded)\n- Grey (muted): under median — fine\n- Amber: at/above median cycle time — worth a look\n- Red (muted): above p75 — stale, needs attention\n- Thresholds derived from median of last 30 closed issues\n\n### Open/in-progress issues\nShow age since created_at with same colour coding. Gives passive board health at a glance. In detail panel show: `Age: 8d (median cycle time: 3d)`.\n\n### Aggregate stats (ThroughputChart header)\n- Median cycle time (last 30 closed issues)\n- p75 cycle time\n- Trend arrow comparing current period median to previous\n- No mean — skews badly on small teams\n\n### Scatter plot overlay (ThroughputChart)\n- X axis: close date, Y axis: cycle time in days\n- Dot per closed issue, horizontal lines at median and p75\n- Dots above p75 coloured amber/red\n- Toggle on/off, small dots (3-4px), label on hover only\n\n### What NOT to do\n- No estimated completion (no data to support it)\n- No green for fast (absence of amber/red is sufficient)\n- No new views — extend existing ThroughputChart\n- No mean — use median throughout","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-ops","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Cycle time tracking","updated_at":"2026-02-19T21:41:36Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented card age indicators with top-border visual treatment","closed_at":"2026-02-19T12:49:56Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bcaa5e881d1da81ef91ccb62e75d6c5c734928c54e70eee1aad4f4b976c4e3a3","created_at":"2026-02-19T11:09:37Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Subtle colour fade or badge on cards showing how long an issue has been in its current column, making stale work visually stand out","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-pc2","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Card age indicators","updated_at":"2026-02-19T22:00:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Implemented inline WIP limits with localStorage persistence, visual exceeded highlighting, and edit-in-place on column headers","closed_at":"2026-02-19T15:47:34Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"00c508f0910b0ea2e721be17bb4564a6e953c41861ac3f5eeb959df96cf08f96","created_at":"2026-02-19T11:09:40Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Configurable work-in-progress limits per board column with visual highlighting when exceeded","design":"## Implementation\n\n### State\n- New signal `wipLimits` in `state.js` — shape: `{ open: number|null, in_progress: number|null, closed: number|null }`\n- Default: all `null` (no limits, opt-in per column)\n\n### Display (DroppableColumn.jsx)\n- Column header shows count/limit when set: e.g. `In Progress (3/3)`\n- Conditional CSS class `column-wip-exceeded` when count \u003e= limit\n- Visual highlight (red/orange header background or border) when exceeded\n\n### Settings UI — choose one approach later\n**A) Inline edit**: Click the column header count to pop a small input for setting the limit. Minimal UI, discoverable.\n**B) Settings panel**: A board-level settings icon that opens a modal/drawer where you configure limits for all columns. More structured, but heavier.\n**C) FilterBar control**: Add a WIP config toggle alongside existing filter controls. Consistent with existing UI patterns.\n\n### Persistence — choose one approach later\n**A) localStorage**: Simplest, no server changes. Limits persist per browser. Good enough for single-user.\n**B) Server config API**: New endpoint + config table. Shareable across devices. Heavier, only needed for multi-user.\n**C) URL params**: Shareable/bookmarkable but awkward for config that rarely changes.\n\n### Files touched\n- `src/client/state.js` — new signal\n- `src/client/components/DroppableColumn.jsx` — count/limit display, exceeded class\n- `src/client/main.css` — exceeded styling\n- Settings UI component (approach-dependent)","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-prn","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"WIP limits","updated_at":"2026-02-19T15:47:34Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Won't do — the AI creates and updates beads, bulk card selection not needed","closed_at":"2026-02-19T21:34:03Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cd00bd80c9f67f1caac144bd22e7c0bf41c05b2b2d5663712ac74fc5e40b32bd","created_at":"2026-02-19T11:09:42Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Shift-click to select multiple cards on the board for batch status changes or other bulk operations","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-rmc","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Bulk card selection","updated_at":"2026-02-19T21:34:03Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-19T13:50:35Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"623c737e2ecdd220f26b4a000222bfa6e01671f85889c372271b594e0bbbc548","created_at":"2026-02-19T13:36:12Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Remove the SQLite database driver and related code. The app now uses Dolt exclusively as its backing store, so the SQLite driver, its tests, and the detection/switching logic are dead code.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-tcq","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Drop SQLite support","updated_at":"2026-02-19T13:50:35Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0945b72eb8accbd63137fee9ff5fc2370a140433a38d8c4d6975a0f0984c57c1","created_at":"2026-02-19T11:09:47Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Track and display how long issues spend in a blocked state, highlighting bottlenecks in the workflow","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-tge","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Blocked time tracking","updated_at":"2026-02-19T21:58:03Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Won't do: squash-merge via MR makes individual commit hashes meaningless","closed_at":"2026-02-19T20:44:57Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9751558eabbdb3744cd2435cf8f4ab6b3e50f61dab77aa967fbd5f8b056d68bd","created_at":"2026-02-19T11:09:53Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Show related git commits in the issue detail panel by matching beads issue IDs in commit messages","design":"## Approach: Metadata-based commit linking\n\n### Data flow\n1. AI commits code, captures the short hash\n2. AI runs: `bd update \u003cissue-id\u003e --metadata '{\"commits\":[\"abc1234\"]}'`\n3. Metadata stored as JSON in dolt `issues.metadata` column\n4. bd-eye DetailPanel reads `issue.metadata.commits` and renders them\n\n### Schema\nThe `metadata` column is a JSON column in dolt. Empty issues have `{}`.\nCommit data shape: `{\"commits\": [\"abc1234\", \"def5678\"]}`\n\n### Frontend changes\n- DetailPanel: if `metadata.commits` exists and is non-empty, render a 'Commits' section\n- Display short hashes, no forge linking needed initially\n\n### AI workflow\n- CLAUDE.md instructs agents to record commit hashes via `bd update --metadata` after committing\n- Append to existing commits array rather than overwriting","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-ual","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Commit linking","updated_at":"2026-02-19T20:44:57Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0ee49181640b6b8e426eca2e217ede6682fb27d58f58a6b0eb64ae4efa9cc36f","created_at":"2026-02-19T11:09:50Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Visualise and manage dependencies between issues across different beads projects. Beads prefixes already namespace issues","design":"## Design: Cross-project dependencies via metadata\n\n### Storage: `metadata.cross_deps`\n\nStore cross-project dependency refs in the issue metadata JSON column:\n\n```json\n{\n  \"cross_deps\": {\n    \"blocked_by\": [\"infra-abc\", \"platform-xyz\"],\n    \"blocks\": [\"frontend-def\"]\n  }\n}\n```\n\nEach side of the relationship stores its half. No schema migration, no new dolt tables — just structured JSON in the existing metadata column.\n\n### Write path\n\nWhen adding a cross-project dep, write to both project databases:\n1. On the local issue: add foreign id to `metadata.cross_deps.blocked_by` (or `blocks`)\n2. On the foreign issue: add local id to its `metadata.cross_deps.blocks` (or `blocked_by`)\n\ndb-registry already has pools for every project, so both writes are straightforward.\n\n### Read path\n\nWhen rendering a card or detail panel, merge two sources:\n- `dependenciesFor(id)` — in-project deps from the dependencies table (existing)\n- `metadata.cross_deps` — cross-project refs\n\nFor each foreign ref, do a lightweight fetch from the other project pool (id, title, status) to show whether the blocker is resolved.\n\n### UI\n\n**DetailPanel**: Add a \"cross-project dependency\" button. Picker flow:\n1. Select target project (from db-registry project list)\n2. Search/select issue in that project\n3. Choose relationship direction (blocked_by / blocks)\n4. Writes metadata on both sides\n\n**Card**: Show cross-project blocker count alongside existing blocked_by indicator, visually distinguished (e.g. prefixed with project name or different icon).\n\n**DependencyGraph**: Render foreign nodes with distinct styling (different colour/shape, labelled with project prefix).\n\n### What stays unchanged\n\n- Dolt schema — no migration needed\n- Beads CLI — sees opaque JSON in metadata, no changes required\n- In-project dependencies — still use the dependencies table as before\n- API dependency routes — existing `/issues/:id/dependencies` unchanged\n\n### Sync concern\n\nBoth sides must be written atomically-ish. If the foreign project write fails, roll back the local metadata write. Since these are separate dolt databases there is no real transaction across them — best-effort with error handling is pragmatic enough for a P4 feature.","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-ufp","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Cross-project dependencies would let you see and manage dependency links between issues in different beads projects.\n\n## Problem\nThe dependency graph only shows links within a single project. If an issue is blocked by something in a different project (e.g. an infra task), that blocker is invisible.\n\n## How it would work\n- `bd dep add bd-eye-abc infra-def` — the prefix tells beads the dependency crosses projects\n- The API resolves foreign-project issues by querying the other project dolt database via db-registry\n- Board shows cross-project blockers on cards (foreign prefix highlighted)\n- DependencyGraph renders foreign nodes differently (greyed out, different shape, or labelled with project name)\n- DetailPanel dependency section shows the foreign issue title/status even though it lives elsewhere\n\n## Why complexity:high, impact:low\nTouches multiple layers (beads CLI, API dependency routes, multi-project db-registry, several UI components), but most teams keep dependencies within a single project. Power-user feature — leave on backlog unless cross-project blocking pain is actually felt.","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Cross-project dependencies","updated_at":"2026-02-19T21:32:48Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Added multi-project setup instructions to README with mermaid diagram and step-by-step migration guide","closed_at":"2026-02-19T16:54:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3f72a3c5f5fe1a2789f1a2677d2a7ff69103b83477791282de8e551918817cb6","created_at":"2026-02-19T16:52:23Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Research and document step-by-step instructions for migrating a beads dolt database directory to a central location so a single dolt server can serve multiple project databases. Output: clear instructions in the README.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-uug","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Document dolt database migration to central directory for shared server","updated_at":"2026-02-19T16:54:28Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Replaced hand-rolled SVG with dagre-powered interactive dependency graph: pan/zoom, edge highlighting on hover, tooltips, fit-to-view button","closed_at":"2026-02-19T13:29:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f6e8f419955f46fbd45e15c669deb01e8e580a8c8fc699038621154afa07668e","created_at":"2026-02-19T11:09:38Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Interactive visualisation on the Deps view using a graph renderer like d3-dag or elkjs. The dependency data is already served by the API","design":"## Design: Interactive Dependency Graph\n\n**Library**: dagre (layout-only, ~40KB gzipped) — purpose-built DAG layout, no framework opinions, Preact-compatible.\n\n**Architecture**: SVG rendering with dagre providing node coordinates and edge spline paths. Keeps existing dark theme CSS variables and status border colors.\n\n**Interactions**:\n- Pan: pointer drag on SVG background\n- Zoom: mouse wheel with cursor-anchored scaling (0.3x–3.0x)\n- Node hover: highlight connected edges, dim others\n- Tooltip: positioned div overlay showing issue title/status\n- Fit-to-view button to reset transform\n- Click nodes to select (existing behaviour)\n\n**Component structure**:\n- FocusView: unchanged\n- FullGraphView: replace internals with:\n  - useGraphLayout(issues, deps) — runs dagre, returns positioned graph (memoized)\n  - useGraphTransform() — pan/zoom state via useReducer\n  - GraphEdges: cubic bezier paths from dagre control points\n  - GraphNodes: existing status-colored rect+text nodes\n  - Fit button + tooltip overlay\n\n**Preact note**: wheel event listener via useEffect+ref with { passive: false } for preventDefault.","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-w4d","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":4,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Interactive dependency graph","updated_at":"2026-02-19T13:29:41Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"CopyableId component integrated in all views: Card, DetailPanel, ReadyQueue, EpicExplorer, DependencyGraph, SearchModal","closed_at":"2026-02-19T13:57:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"59d1fa0b154a0c04f9d74e58ab9a090f58d8fd6fb85a89b458b722868f9b443f","created_at":"2026-02-19T13:42:30Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Clicking on a ticket/issue ID should copy it to the clipboard, like bdui does. Should work wherever IDs are displayed.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-x86","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Click ticket ID to copy to clipboard","updated_at":"2026-02-19T13:57:28Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4f7720ade44d23db172f29fc1199cc0736ff09925dc8bcb06e7ec470ee23e27f","created_at":"2026-03-02T08:03:45Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add a Backlog column to the Kanban board in Board.jsx.\n\nColumn routing logic:\n- Backlog: status=open AND (labels includes 'backlog' OR defer_until is a future date)\n- Open: status=open AND NOT matching backlog criteria\n- In Progress / Closed: unchanged (pure status match)\n\nAdd { key: 'backlog', label: 'Backlog' } as the first entry in COLUMNS.\n\nReplace the simple effectiveStatus === col.key filter with a routing function that checks labels and defer_until for the backlog/open split.\n\nUpdate the drag handler with branching logic:\n- Drag to Backlog: POST /issues/:id/labels to add 'backlog' label\n- Drag from Backlog to Open: DELETE /issues/:id/labels/backlog\n- Drag from Backlog to In Progress: DELETE backlog label + PATCH status to in_progress\n- All other drags: existing status PATCH unchanged\n\nAdd optimistic state for label-based moves matching the existing optimisticMoves pattern.\n\nAdd Board tests for: column routing with backlog label, column routing with future defer_until, drag to/from backlog.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-xxz","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add Backlog column with label and defer routing","updated_at":"2026-03-02T08:03:45Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"Daniel Chicot","await_id":"","await_type":"","close_reason":"Closed","closed_at":"2026-02-19T22:11:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b83b4613059fa03393e1270971043c861a35172860fff6a413fccd8f8457e256","created_at":"2026-02-19T21:59:40Z","created_by":"Daniel Chicot","crystallizes":0,"defer_until":null,"delete_reason":"","deleted_at":null,"deleted_by":"","description":"Add an 'Assigned to me' toggle filter alongside the existing 'Blocked only' and 'Ready only' filters. Get UI expert input on presenting the three toggle buttons in a more cohesive way than just side by side.","design":"## UX Recommendations (from UI/UX review)\n\n### Layout: segmented control + chip with divider\n\n```\n[ All | Blocked | Ready ]  |  [ Mine ]  |  Priority v  Type v  Label v  Assignee v\n```\n\n### Mutex pair: Segmented control\n\"Blocked only\" and \"Ready only\" become a three-state segmented control (All / Blocked / Ready). This makes mutual exclusivity structural rather than just enforced in JS.\n\n### \"Assigned to me\": Standalone toggle chip\nVisually separate with a divider. Since it composes with the segmented control, it uses a different shape (pill chip with border) to communicate it is a different kind of filter.\n\n- Inactive: border only, muted text\n- Active: accent border + subtle accent background\n\n### CSS approach\n\nSegmented control:\n- Container with sunken background + border + small border-radius\n- 2px padding, segments inside with transparent bg\n- Active segment gets accent fill\n\nToggle chip:\n- Same height as segments\n- 1px border, transparent bg when inactive\n- Accent border + accent-subtle bg when active\n\n### Ordering principle\nQuick filters left, attribute dropdowns right, dividers between groups. The segmented control and Mine chip are high-frequency so they earn permanent toolbar real estate. If the bar gets cramped later, dropdowns can collapse behind a single \"Filters\" menu while quick filters stay visible.","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"bd-eye-y8j","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"original_type":"","owner":"daniel.chicot@dlapiper.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add 'Assigned to me' filter and improve filter button group","updated_at":"2026-02-19T22:11:32Z","waiters":"","wisp_type":"","work_type":""}
